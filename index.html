<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kakao Map</title> 
</head>
<body>
    <h2>카카오 지도 보여주기</h2>
    <!-- visit https://developers.kakao.com/docs/latest/ko/kakaomap/common -->
    <!-- 1. 설정하기 https://developers.kakao.com/docs/latest/ko/kakaomap/common#prerequisite -->
    <!-- https://developers.kakao.com/console/app/1255960/config --> 
    <!-- javascript 개발문서 https://apis.map.kakao.com/web/guide/  -->
    <!-- 키 발급에는 아래 과정이 필요합니다.
            1. 카카오 개발자사이트 (https://developers.kakao.com) 접속
            2. 개발자 등록 및 앱 생성
            3. 웹 플랫폼 추가: 앱 선택 – [플랫폼] – [Web 플랫폼 등록] – 사이트 도메인 등록
     -->
    <!-- 카카오 지도 API를 사용하려면 kakao 개발ㄹ자 사이트에 앱 등록해야 함. -->
    <!-- 지도 api를 사용하는 웹페이지는 반드시 웹서버에 업로드 해야 실행됨 -->
    <!-- 배포방법1. dothome.co.kr (동적 웹페이지 호스팅: 백엔드 코드가 동작함, php사용 가능)-->
    <!-- 배포방법2. Github page 기능 이용(정적인 웹페이지 호스팅) -->


    <!-- 1. 지도를 담을 영역 만들기 [사이즈가 반드시 필요함.. 사이즈 없으면 안나옴]] -->
    <div id="map" style="width: 100%; height: 300px;"></div>
    
    <!-- 2. kakao 지도 library적용 (외부 스크립트) [앱등록시 재공되는 JavaScript 키 a210e5e5c75f6ae606bd24cf5dbc2fdf 기입 ] -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a210e5e5c75f6ae606bd24cf5dbc2fdf"></script>
    
    <!-- 3. 실제 지도를 띄우는 코드 작성 (내부 스크립트) -->
    <script>
		var container = document.getElementById('map');
		// var options = {
		// 	center: new kakao.maps.LatLng(33.450701, 126.570667),
		// 	level: 3
		// };

		// var map = new kakao.maps.Map(container, options);
    </script>
    <br>
    <button onclick="near()">내 주변 지도 보기</button>
    <script>
        function near(){
            // 내 위치 얻어오기 
            window.navigator.geolocation.getCurrentPosition(function(position){
                var lat = position.coords.latitude
                var lng = position.coords.longitude

                // 내 위치 정보를 카카오좌표 객체로 생성 
                var myPos = new kakao.maps.LatLng(lat,lng)  

                var options = {
                    center : myPos, level: 3
                }
                var map = new kakao.maps.Map(container,options)

                // 내 위치에 마커 추가하기
                var marker = new kakao.maps.Marker({
                    position: myPos,
                    // developers 에서 다른 옵션 추가 가능 
                });

                // 마커를 지도 위에 표시하기
                marker.setMap(map);   
            });
        }
    </script>

</body>
</html>
